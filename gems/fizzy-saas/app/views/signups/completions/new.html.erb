<% @page_title = "Sign up for Fizzy" %>

<div
  class="panel shadow center margin-block-double <%= "shake" if flash[:alert] %>"
  style="--panel-size: 65ch;"
>
  <h1 class="txt-xx-large margin-block-end-double">Create your account</h1>

  <h2 class="margin-block-end-double">
    Great! We just need two more things...
  </h2>

  <%= form_with model: @signup, url: saas.signup_completion_path, scope: "signup", class: "flex flex-column gap txt-large", data: { turbo: false } do |form| %>
    <div class="flex align-center gap">
      <label class="flex align-center gap input input--actor txt-large">
        <%= form.text_field :full_name, class: "input", autocomplete: "name", placeholder: "Your name", autofocus: true, required: true %>
        <%= icon_tag "person", class: "txt-large" %>
      </label>
    </div>

    <div class="flex align-center gap">
      <label class="flex align-center gap input input--actor txt-large">
        <%= form.text_field :company_name, class: "input", autocomplete: "organization", placeholder: "Your organization", required: true %>
        <%= icon_tag "building", class: "txt-large" %>
      </label>
    </div>

    <% if @signup.errors.any? %>
      <div class="alert alert--error">
        <ul class="margin-block-none">
          <% @signup.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <button type="submit" class="btn btn--reversed center">
      <span>Finish</span>
    </button>
  <% end %>
</div>
