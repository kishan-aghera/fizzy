<% @page_title = "Sign up for Fizzy" %>

<div
  class="panel shadow center margin-block-double <%= "shake" if flash[:alert] %>"
  style="--panel-size: 65ch;"
>
  <h1 class="txt-xx-large margin-block-end-double">Fizzy</h1>

  <h2 class="margin-block-end-double">
    Enter your email address to get started.
  </h2>

  <%= form_with model: @signup, url: saas.signup_path, scope: "signup", class: "flex flex-column gap txt-large", data: { turbo: false } do |form| %>
    <div class="flex align-center gap">
      <label class="flex align-center gap input input--actor txt-large">
        <%= form.email_field :email_address, class: "input", autocomplete: "username", placeholder: "Your email address", required: true %>
        <%= icon_tag "email", class: "txt-large" %>
      </label>
    </div>

    <% if @signup.errors.any? %>
      <div class="alert alert--error">
        <ul class="margin-block-none">
          <% @signup.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <button type="submit" class="btn btn--reversed center">
      <span>Go</span>
      <%= icon_tag "arrow-right" %>
    </button>
  <% end %>
</div>
